
attach ../modelgen_0.so
attach ../d_vasrc.so

verilog

`modelgen
module test_res1_0(np, nn);
	electrical np, nn;
	inout np, nn;
	parameter real r=1;
	analog begin
		V(np,nn) <+ I(np,nn) * r;
	end
endmodule

list

!make test_res1_0.so > /dev/null
attach ./test_res1_0.so

parameter r=1
parameter v=0

test_res1_0 #(.r(1)) dut(1,0);
vsource #(.dc(v)) v1(1, 0);

test_res1_0 #(.r(100)) dut(2,0);
vsource #(.dc(v)) v2(2, 0);

test_res1_0 #(.r(0)) dut(3,0);
vsource #(.dc(v)) v3(3, 0);

list

print dc i(v*) iter(0)

dc v 0 1 .5
end
