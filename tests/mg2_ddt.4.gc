attach ../modelgen_0.so


spice
.subckt vsin p n
.parameter ampl
.parameter dc
V1 p n sin freq=1 amplitude={ampl} dc=dc
.ends

.verilog

`modelgen
module test_ddt4(p, n);
	(* desc="" *) real dv0, dv1;
	(* desc="" *) real dv2;
	electrical p, n;
	analog begin
		dv0 = ddt(V(p,n));
		dv1 = ddt($abstime*V(p,n));
		dv2 = $abstime*ddt(V(p,n));
	end
endmodule

!make test_ddt4.so > /dev/null
attach ./test_ddt4.so

verilog
parameter r=1
parameter v=0

test_ddt4 #() dut(1,0);
vsin #(.dc(v), .ampl(1)) v1(1, 0);

list

print tran v(1) dv0(dut) dv1(dut) dv2(dut) iter(0)
// y(dut.ddt_0) iof(dut.ddt_0) iter(0)
tran 1 trace=n
status notime
end
