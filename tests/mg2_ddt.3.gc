attach ./modelgen_0.so


spice
.subckt vsin p n
.parameter ampl
.parameter dc
V1 p n sin freq=1 amplitude={ampl} dc=dc
.ends

.verilog

`modelgen
module test_expcap0(p, n, cp, cn);
	electrical p, n, cp, cn;
	(*desc="dd"*) real dd;
	analog begin
		dd = ddt(V(cp,cn));
		I(p,n) <+ exp(ddt(V(cp,cn)));
	end
endmodule

!make test_expcap0.so > /dev/null
attach ./test_expcap0.so

test_expcap0 #() dut(3,0,1,0);

spice
V1  1  0  SIN  offset= 0.  amplitude= 1.  frequency= 1.  delay= 0.  damping= 0. ac 1
R2  3  0  1.
.print tran v nodes iter(0)
 * loss(dut._b_ddt_1_p_ddt_1_n) i(dut._b_ddt_1_p_ddt_1_n) dd(dut) iter(0)
.print ac vm(3) vp(3)
.tran 1
.ac 1 10 * 2
.status notime
