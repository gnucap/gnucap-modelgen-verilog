
attach ../modelgen_0.so
attach ../d_vasrc.so

`modelgen
module test_res1(np, nn);
	electrical np, nn;
	inout np, nn;
	parameter real r = 100.;
	analog begin
		real v;
		v = V(np,nn);
		I(np,nn) <+ v / r;
	end
endmodule

list

!make test_res1.so

attach ./test_res1.so

verilog

param r=100
test_res1 #(.r(r)) dut(1,2);
vsource v1(1, 0);
vsource #(.dc(1)) v2(2, 0);

list

print dc i0(dut) i0_d0(dut) i0_d1(dut) i(v1) v(1)

dc v1 0 1 .5 r 10 30 10
