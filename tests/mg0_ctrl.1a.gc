
attach ./modelgen_0.so


verilog

`modelgen
module test_for1a(p, n);
  electrical p, n;
  inout p, n;
  parameter real v=0;
  analog begin : main
    integer i;
    i = 0;
    for(i=v; i>0; ) begin
      V(p,n) <+ 1.;
      i = i - 1;
    end
  end
endmodule

list

!make test_for1a.so > /dev/null
attach ./test_for1a.so

test_for1a #(.v(0)) dut(n0,0);
test_for1a #(.v(1)) dut(n1,0);
test_for1a #(.v(2)) dut(n2,0);
test_for1a #(.v(3)) dut(n3,0);

resistor #(1k) r(n0 n1);

list

print dc v(nodes) iter(0)
dc
end
