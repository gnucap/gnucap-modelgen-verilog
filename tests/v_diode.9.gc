* simple diode test
verilog
attach ../vams/diode.so

verilog

paramset ddd diode;
  parameter real area=1;
 .area= area;
 .level=0;
 .is= 10.f;
 .rs= 0.;
 .n= 1.;
 .tt= 0.;
 .cjo= 1.p;
 .vj= 1.;
 .m= 0.5 ;
 .eg= 1.11;
 .xti= 3.;
 .kf= 0.;
 .af= 1.;
 .fc= 0.5;
 .bv= 50;
 .ibv= 0.001;
endparamset;

module main(1 2)
  ddd #(.area(1.), .$mfactor(4.)) d1 (1  2);
endmodule

main #(.$mfactor(1.)) m(2 0);
parameter v1=10

vsource #(.dc(v1)) V1(1,0);
resistor #(.r(100k)) R1(1,2);

list
print op v(1) v(2) i(v1) i(r1) id(m.d1) vd(m.d1) gd(m.d1) cd(m.d1) zraw(m.d1) z(2)
op
print dc v(1) v(2) i(v1) i(r1) id(m.d1) vd(m.d1) gd(m.d1) cd(m.d1) zraw(m.d1) z(2) iter(0)
dc V1 -10 10 2
stat notime
dc V1 9.999 10.001 .001
op
stat notime
end
