
attach ../modelgen_0.so
attach ../d_vasrc.so

verilog

`modelgen
module test_dio2(np, nn);
electrical np, nn;

analog begin
	real a;
	real one;
	real sinsquare;
	sinsquare = pow(sin(V(np,nn)), 2.);
	one = sinsquare + cos(V(np,nn))*cos(V(np,nn));
	a = pow(2.*V(np,nn), 1.);
	I(np,nn) <+ pow(2.71, a/2) * exp(a * .5) * one;
end

endmodule

!make test_dio2.so > /dev/null
attach ./test_dio2.so

resistor #(.r(1)) dut(3,2);
test_dio2 dut(2,1);
test_dio2 dut(1,0);
vsource v1(3, 0);

list

print dc v(nodes) iter(0)
dc v1 2. 5. 1
end
