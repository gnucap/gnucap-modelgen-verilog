
attach ../modelgen_0.so
attach ../d_vasrc.so

`modelgen
module test_vccs0(np, nn, ncp, ncn);

analog begin
	real gain;
	gain = 17;
	I(np,nn) <+ gain*V(ncp,ncn);
end

endmodule

!make test_vccs0.so

attach ./test_vccs0.so

verilog

test_vccs0 dut(0, 2, 1, 0);
resistor #(.r(1)) r0(2, 0);
vsource v1(1, 0);

list

print dc v1(dut) v0(dut) i0(dut) i0_d0(dut) i0_d1(dut) v(1, 2)
dc v1 0 2 .5
