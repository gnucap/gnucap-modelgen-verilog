attach ../modelgen_0.so
attach ../d_vasrc.so

* BUG
* options noincmode

spice
.subckt isin p n
.parameter ampl
.parameter dc
I1 p n sin offset=-1 freq=1 amplitude={ampl} delay=-.25 dc=dc
.ends

.verilog

`modelgen
module test_ddt5a(p, n, x);
	(* desc="" *) real d0;
	electrical p, n, x;
	analog begin
		d0 = ddt(I(p,n));
		V(x) <+ d0;
	end
endmodule

!make test_ddt5a.so > /dev/null
attach ./test_ddt5a.so

verilog
parameter r=1
parameter v=0

test_ddt5a #() dut(1,0,x);
isin #(.dc(v), .ampl(1)) i1(0, 1);
// resistor #(1.) r(0,1);

list

print tran i(i1.*) v(nodes) d0(dut) d1(dut) iter(0)
tran 1  trace=n
status notime
end
