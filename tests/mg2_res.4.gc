
attach ./modelgen_0.so


verilog

`modelgen
module test_res_4(p, n);
	electrical p, n;
	inout p, n;
	branch (p, n) io;
	parameter real r = 200.;
	analog begin
		I(io) <+ V(io) / r;
	end
endmodule


list

!make test_res_4.so > /dev/null
attach ./test_res_4.so

parameter r=1
parameter v=0

test_res_4 #(.r(100)) dut(1,0);
vsource #(.dc(v)) v1(1, 0);

test_res_4 #(.r(1)) dut(2,0);
vsource #(.dc(v)) v2(2, 0);

test_res_4 #(.r(.01)) dut(3,0);
vsource #(.dc(v)) v3(3, 0);

list

print dc i(v*) iter(0)

dc v 0 1 .25
end
