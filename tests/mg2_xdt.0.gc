attach ./modelgen_0.so


spice
.subckt vsin p n
.parameter ampl
.parameter dc
V1 p n sin freq=1 amplitude={ampl} dc=dc
.ends

.verilog

`modelgen
module test_ddt1(np, nn);
	electrical np, nn;
	(* desc="" *) real ddtidt;
	(* desc="" *) real idtddt;
	analog begin
		ddtidt = ddt(idt(V(np,nn)));
		idtddt = idt(ddt(V(np,nn)));
	end
endmodule

!make test_ddt1.so > /dev/null
attach ./test_ddt1.so

verilog
parameter r=1
parameter v=0

test_ddt1 #() dut(1,0);
vsin #(.dc(v), .ampl(1)) v1(1, 0);

list

print tran v(1) idtddt(dut) ddtidt(dut)
print tran + i(dut._b_ddt_2*)
print tran + i(dut._b_ddt_1*)
print tran + i(dut._b_idt_3*)
print tran + i(dut._b_idt_0*)
print tran + iter(0)
tran 1 .1 trace=n
status notime
end
