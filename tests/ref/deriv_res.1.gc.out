g++ -DTRACE_UNTESTED -g -O0 -fPIC  -I../include test_res1.cc -o test_res1.o -c
g++ -shared  -I../include test_res1.o  -o test_res1.so
rm test_res1.o

demo #(.r(200)) dut ();
vsource #() v1 (.p(1),.n(0));
vsource #(.dc(1)) v2 (.p(2),.n(0));
#           i0(dut)    v0(dut)    v1(dut)    i0_d0(dut) i0_d1(dut)
 0.         0.005      0.         1.         0.005      0.005     
 0.1        0.0045     0.1        1.         0.0045     0.005     
 0.2        0.004      0.2        1.         0.004      0.005     
 0.3        0.0035     0.3        1.         0.0035     0.005     
 0.4        0.003      0.4        1.         0.003      0.005     
 0.5        0.0025     0.5        1.         0.0025     0.005     
 0.6        0.002      0.6        1.         0.002      0.005     
 0.7        0.0015     0.7        1.         0.0015     0.005     
 0.8        0.001      0.8        1.         0.001      0.005     
 0.9        500.u      0.9        1.         500.u      0.005     
 1.         0.         1.         1.         0.         0.005     
