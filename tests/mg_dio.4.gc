
attach ../modelgen_0.so
attach ../d_vasrc.so

verilog

`modelgen
module test_dio4(p, n);
electrical p, n;

analog begin
	real v;
	v = V(p, n);
	if(v < 0.)
	else
		I(p, n) <+ v;
end

endmodule

!make test_dio4.so > /dev/null

attach ./test_dio4.so

resistor #(.r(1)) r1(2,1);
test_dio4 dut(1,0);
vsource v1(2, 0);

list

print dc v(nodes) i(r1) iter(0)
dc v1 -10 10 2
