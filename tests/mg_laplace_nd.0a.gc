attach ./modelgen_0.so
attach ../vams/vsine.so

verilog

`modelgen
module test_lap_nd0a(p,n,cp, cn);
	electrical p, n;
	electrical cp, cn;
	analog begin
		I(p,n) <+ laplace_nd(.5*V(cp,cn), '{2.}, '{2.});
		I(p,n) <+ .5 * laplace_nd(-V(cn,cp), '{2.}, '{2.});
	end
endmodule

!make test_lap_nd0a.so > /dev/null
attach ./test_lap_nd0a.so

verilog
parameter r=1
parameter v=0

test_lap_nd0a #() dut(0, 3, 1,0);
resistor #(1) r(3,0);
vsine #(.mag(1), .dc(v), .ampl(1)) v1(1, 0);

list

print tran v(1) v(3) i(dut.*.out)
// print tran loss(dut.*)
tran 1 .1 trace=n
print ac v(1) vp(3) vm(3)
ac 2 4 * 2
status notime
end
