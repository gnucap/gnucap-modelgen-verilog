
attach ../modelgen_0.so
attach ../d_vasrc.so

verilog
// ddx test case inspired by LRM 4.5.6

`modelgen
module test_ddx1(p,n,cp,cn);
	inout p, n, cp, cn;
	electrical p, n, cp, cn;
	parameter real gm = 1.0;
	real vin, plus, minus, zero;
	analog begin
		vin = V(cp,cn);
		zero = ddx(vin, V(p));
		minus = ddx(vin, V(cn));
		plus = ddx(vin, V(cp));
		I(p,n) <+ gm * vin;
	end
endmodule

!make test_ddx1.so > /dev/null
attach ./test_ddx1.so

test_ddx1 #() dut(1,1,1,0);
parameter v=0
vsource #(.dc(v)) v1(1,0);

list

print dc v(nodes) zero(dut) minus(dut) plus(dut) iter(0)
dc
end
