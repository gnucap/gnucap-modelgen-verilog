attach ../vams/vsine.so


verilog
parameter T = {3.141592 / 4.}

// H(z) = 1/z
va_zi_nd #(.d0(1.), .n0(0.), .n1(.707), .T(T), .tau(T*.1)) b(0,out1,in,0);
va_zi_nd #(.d0(1.), .n0(0.), .n2(.707), .T(T*.5), .tau(T*.1)) b(0,out2,in,0);
va_zi_nd #(.d0(1.), .n0(0.), .n4(.707), .T(T*.25), .tau(T*.1)) b(0,out3,in,0);
vsine #(.ampl(1), .freq(1/2/3.1415)) v1(in, 0);

// lowpass for comparison
// fc = 0.16Hz
// phase shift = -45deg. delay: pi/4
resistor #(.r(1)) r1(in out0)
capacitor #(.c(1)) c1(0 out0)

list

print tran v(in) v(out*) control(0)
tran 10 basic
//
print ac vm(out*) vp(out*)
ac .05 0.2 * 1.1

status notime
