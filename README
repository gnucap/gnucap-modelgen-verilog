== Preliminary gnucap modelgen

Build with "make", requires Gnucap from the same date, or latest since.
Generally develop branch may require Gnucap develop branch.

== Build system notes

There is a configure script, but it does not yet work as intended.

== Tests

type "make check" to build and run regression tests.
see tests/README

== General use

Modelgen-verilog preprocesses, parses and dumps vams files.

$ modelgen-verilog { -I path -D def .. } --dump some_file.vams > some_file.dump

To emit C++ code for use with Gnucap, type

$ modelgen-verilog { -I path -D def .. } --cc some_file.vams > some_file.cc

or

$ modelgen-verilog { -I path -D def .. } -o some_file.cc --cc some_file.vams.

Compile and link the output into Gnucap plugin

$ c++ -fPIC -I path_to/include some_file.cc -o some_file.o -c
$ c++ -shared  some_file.o -o some_file.so

Load into Gnucap

$ gnucap -a ./some_file.so
gnucap> [..]

or

$ gnucap
gnucap> load ./some_file
gnucap> [..]

== Preprocessor notes

- modelgen-verilog { -o output -I path -D def .. } --pp file
- `include "quoted" works simlar to quoted C #include.
- -I sets include path.
- -D defines a symbol. Assign a value with -D"VARIABLE value"..
- -o sets output path.
- Files are located following logic from gcc implementation.
- Output is sent to standard out, unless -o is specified.

== language plugin note

This package ships a modified/experimental lang_verilog plugin.
To make use of new language features in the simulator, load it.
$ gnucap -a vams/lang_verilog.so
or
gnucap > load vams/lang_verilog.so
